<!DOCTYPE html>
<html>
<head>   
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>Bjorn Tillenius - Blogging about stuffs</title>
    <meta name="description" content="Bjorn Tillenius, Blogging about stuffs" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="/assets/css/normalize.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Noto+Serif:400,700,400italic|Open+Sans:700,400" />
    <!-- This is for syntax highlight -->
    <link rel="stylesheet" type="text/css" href="/assets/css/syntax.css">
    <!-- Customisation  -->
    <link rel="stylesheet" type="text/css" href="/assets/css/main.css" />

</head>
<body class="home-template">

    
    <main class="content" role="main">

    <article class="post">
        <header class="post-header">
            <a id="blog-logo" href="">
                
                    <span class="blog-title">Bjorn Tillenius</span>
                 
            </a>
        </header>
        
        <span class="post-meta">
        	<time datetime="2010-02-10">10 Feb 2010</time>
        	
        		on
	        	
	        
       	</span>

        <h1 class="post-title">Windmill - so far, so good</h1>

        <section class="post-content">
            <p>We&#39;ve used Windmill in our Launchpad buildbots for a while now, and it&#39;s actually
worked out quite well. I was afraid that we would have a lot of fallout,
since in the beginning Windmill was fragile and caused a lot of
intermittent test failure. However, so far I&#39;d said that we&#39;ve had very
little problems. There was one intermittent failure, but it was known
from the beginning that it would fail eventually. Apart from that we&#39;ve
had only one major issue, and that&#39;s that something is using 100% CPU
when our combined Javascript file is bigger than 512 000 bytes. This
stopped people from landing Javascript additions for a while, and we
still haven&#39;t resolved this issue, apart from making the file smaller.</p>

<p>There are some things that would be nice to improve with regards to
Windmill. The most important thing is to make sure that launchpad.js can
be bigger than 512 000 bytes:</p>

<ul>
<li><a href="https://launchpad.net/bugs/519744">https://launchpad.net/bugs/519744</a></li>
</ul>

<p>It would also be nice to make the test output nicer. At the moment
Windmill logs quite a lot to stderr, making it look like the test
failed, even though it didn&#39;t. We don&#39;t want Windmill to log anything
really, unless it&#39;s a critical failure:</p>

<ul>
<li><a href="https://launchpad.net/bugs/494519">https://launchpad.net/bugs/494519</a></li>
</ul>

<p>I was going to say that we also have some problems related to logging in
(because we look at a possibly stale page to decide whether the user is
logged in), but it seems like Salgado already fixed it!</p>

<ul>
<li><a href="https://launchpad.net/bugs/515494">https://launchpad.net/bugs/515494</a></li>
</ul>

<p>It would also be nice to investigate whether the problem with asserting
a node directly after waiting for it sometimes fails. We had problems
like that before; code was waiting for an element, and when using
assertNode directly after the wait, the node still didn&#39;t exist. I
haven&#39;t seen any test fail like that lately, so it might have been fixed
somehow:</p>

<ul>
<li><a href="https://launchpad.net/bugs/487666">https://launchpad.net/bugs/487666</a></li>
</ul>

<p>There are some other things I could think of that would be nice to have.
I haven&#39;t found any bugs filed for them, but I&#39;ll list them here.</p>

<ul>
<li>Don&#39;t run the whole test suite under xvfb-run. It&#39;d be better to   start xvfb only for the Windmill tests.</li>
<li>Use xvfb by default for Windmill tests. When running the Windmill      tests it&#39;s quite annoying to have Firefox pop up now and then. It&#39;d      be better to run them headless by default.</li>
<li>Switches for making debugging easier. Currently we shut down      Firefox after running the Windmill tests. It should be possible to      have Firefox remain running after the test has finished running, so that you can manually poke around if you want to. If we use xvfb by default, we also need a switch for not using it.</li>
</ul>

        </section>

        

        <footer class="post-footer">
        	<!-- If we want to display author's name and bio -->
            
                <section class="author">
                	<header> <a href=""> <img class="profile" src="/assets/images/profile.png" alt="Author's profile picture"></a></header>
                	<article>
                		<!-- Author Name -->
                    	<h4> Bjorn Tillenius </h4>
                    	<!-- Author Bio -->
                    	<p> 
                    		Here goes the author description. You might want to place some links too in here
                    	</p>
                    </article>
                </section>                
            

            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="http://twitter.com/share?text=Windmill - so far, so good&amp;url=http://tillenius.me//2010/02/10/windmill-so-far-so-good.html"
                    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://tillenius.me//2010/02/10/windmill-so-far-so-good.html"
                    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=http://tillenius.me//2010/02/10/windmill-so-far-so-good.html"
                   onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>
            
            
        	
        </footer>

    </article>

</main>


    <footer class="site-footer">
        <a class="subscribe icon-feed" href="rss.xml"><span class="tooltip">Subscribe!</span></a>
        <div class="inner">
             <section class="copyright">All content copyright <a href="">Bjorn Tillenius</a> &copy;  &bull; All rights reserved.</section>
             <section class="poweredby">Made with Jekyll using <a href="http://github.com/rosario/kasper">Kasper theme</a></section>
        </div>
    </footer>

    
    <script type="text/javascript" src="/assets/js/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="/assets/js/index.js"></script>

    <!-- Google Analytics Tracking code -->
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-XXXXXXXX-X']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>   
</body>
</html>
